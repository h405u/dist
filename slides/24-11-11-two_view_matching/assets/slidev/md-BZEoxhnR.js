import{A as $,B as w}from"../modules/unplugin-icons-BgB7t1vH.js";import{d as z,t as I,M as L,D as B,K as H,z as _,aB as V,o as r,b as v,f as q,B as p,c as A,g as M,i as K,h as P,k as x,e as i,l as R,m as T,aa as a,q as W,s as j}from"../modules/vue-IZsJrVaC.js";import{v as b,ad as U,C as X,ae as G,af as J}from"../index-KgIENFYZ.js";import{u as S,f as O}from"./context-CzzL5qx4.js";import{I as Q}from"./default-Bfl1_UQm.js";import"../modules/shiki-DGbCveM2.js";const Y=["title"],Z=z({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:b.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(u){const t=u,{$clicksContext:n}=S(),l=I(),g=U();L(()=>{n.unregister(g)}),B(()=>{var e;(e=l.value)==null||e.classList.toggle("slidev-code-line-numbers",t.lines)}),H(()=>{var o;if(!n||!((o=t.ranges)!=null&&o.length))return;const e=n.calculateSince(t.at,t.ranges.length-1);n.register(g,e);const s=_(()=>e?Math.max(0,n.current-e.start+1):X),h=_(()=>t.finally==="last"?t.ranges.at(-1):t.finally.toString());B(()=>{if(!l.value)return;let d=t.ranges[s.value]??h.value;const D=d==="hide";l.value.classList.toggle(G,D),D&&(d=t.ranges[s.value+1]??h.value);const E=l.value.querySelector(".shiki"),C=Array.from(E.querySelectorAll("code > .line")),F=C.length;if(J(d,F,t.startLine,k=>[C[k]]),t.maxHeight){const k=Array.from(E.querySelectorAll(".line.highlighted"));k.reduce((f,N)=>N.offsetHeight+f,0)>l.value.offsetHeight?k[0].scrollIntoView({behavior:"smooth",block:"start"}):k.length>0&&k[Math.round((k.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:y,copy:m}=V();function c(){var s,h;const e=(h=(s=l.value)==null?void 0:s.querySelector(".slidev-code"))==null?void 0:h.textContent;e&&m(e)}return(e,s)=>{const h=$,o=w;return r(),v("div",{ref_key:"el",ref:l,class:K(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":t.lines}]),style:P({"max-height":t.maxHeight,"overflow-y":t.maxHeight?"scroll":void 0,"--start":t.startLine})},[q(e.$slots,"default"),p(b).codeCopy?(r(),v("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:p(y)?"Copied":"Copy",onClick:s[0]||(s[0]=d=>c())},[p(y)?(r(),A(h,{key:0,class:"p-2 w-8 h-8"})):(r(),A(o,{key:1,class:"p-2 w-8 h-8"}))],8,Y)):M("",!0)],6)}}}),ki={__name:"slides.md__slidev_3",setup(u){const{$slidev:t,$nav:n,$clicksContext:l,$clicks:g,$page:y,$renderContext:m,$frontmatter:c}=S();return l.setup(),(e,s)=>{const h=Z;return r(),A(Q,W(j(p(O)(p(c),2))),{default:x(()=>[s[1]||(s[1]=i("h1",null,"Code",-1)),s[2]||(s[2]=i("p",null,"Note that only a glimpse of the main procedure, which indicates the basic structure of the code, is included here. Check the code itself for full implementation.",-1)),R(h,T({},{ranges:[]}),{default:x(()=>s[0]||(s[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-python"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"kp1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," kp2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," matches "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," find_matches"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"img1_path"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," img2_path"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# A function used to visualize the random matches.")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# visualize_random_matches(img1_path, img2_path, kp1, kp2, matches)")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"pts1 "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," np"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"array"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"kp1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"m"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]]["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"3"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"-"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," for"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," m "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"in"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," matches"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"])"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  # (y, x) -> (x, y)")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"pts2 "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," np"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"array"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"kp2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"m"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]]["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"3"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"-"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," for"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," m "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"in"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," matches"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"])"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  # (y, x) -> (x, y)")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"essential_matrix"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," inliers "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," ransac_essential_matrix"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"pts1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," pts2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"visualize_epipolar_lines"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"pts1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," pts2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," inliers"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," essential_matrix"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," img1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," img2"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")])])],-1)])),_:1},16),s[3]||(s[3]=i("p",null,[i("code",null,"find_matches()"),a(" returns matches using KNN on gradient-based descriptors, and the points are detected by a SIFT-like approach.")],-1)),s[4]||(s[4]=i("p",null,[i("code",null,"ransac_essential_matrix()"),a(" returns the essential_matrix and the inliers using normalized 8 point algorithm using RANSAC.")],-1)),s[5]||(s[5]=i("p",null,[i("code",null,"visualize_epipolar_lines()"),a(" randomly selects 20 inliers, assigns them a color each, and visualizes them together with their epipolar line.")],-1))]),_:1},16)}}};export{ki as default};
