import{A as P,B as H}from"./modules/unplugin-icons-BgB7t1vH.js";import{d as I,t as L,M as N,D as C,K as M,z as f,aB as R,o as n,b as v,f as V,B as r,c as A,g as Q,i as q,h as z,k as _,e as i,l as F,m as K,aa as b,q as T,s as W}from"./modules/vue-IZsJrVaC.js";import{v as x,ad as X,C as j,ae as O,af as U}from"./index-MV-ep_6k.js";import{u as S,f as G}from"./slidev/context-BfhVuPLK.js";import{I as J}from"./slidev/default-D9XIgOFp.js";import"./modules/shiki-DGbCveM2.js";const Y=["title"],Z=I({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:x.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(B){const t=B,{$clicksContext:k}=S(),a=L(),p=X();N(()=>{k.unregister(p)}),C(()=>{var e;(e=a.value)==null||e.classList.toggle("slidev-code-line-numbers",t.lines)}),M(()=>{var o;if(!k||!((o=t.ranges)!=null&&o.length))return;const e=k.calculateSince(t.at,t.ranges.length-1);k.register(p,e);const s=f(()=>e?Math.max(0,k.current-e.start+1):j),l=f(()=>t.finally==="last"?t.ranges.at(-1):t.finally.toString());C(()=>{if(!a.value)return;let d=t.ranges[s.value]??l.value;const c=d==="hide";a.value.classList.toggle(O,c),c&&(d=t.ranges[s.value+1]??l.value);const E=a.value.querySelector(".shiki"),u=Array.from(E.querySelectorAll("code > .line")),$=u.length;if(U(d,$,t.startLine,h=>[u[h]]),t.maxHeight){const h=Array.from(E.querySelectorAll(".line.highlighted"));h.reduce((m,w)=>w.offsetHeight+m,0)>a.value.offsetHeight?h[0].scrollIntoView({behavior:"smooth",block:"start"}):h.length>0&&h[Math.round((h.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:g,copy:y}=R();function D(){var s,l;const e=(l=(s=a.value)==null?void 0:s.querySelector(".slidev-code"))==null?void 0:l.textContent;e&&y(e)}return(e,s)=>{const l=P,o=H;return n(),v("div",{ref_key:"el",ref:a,class:q(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":t.lines}]),style:z({"max-height":t.maxHeight,"overflow-y":t.maxHeight?"scroll":void 0,"--start":t.startLine})},[V(e.$slots,"default"),r(x).codeCopy?(n(),v("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:r(g)?"Copied":"Copy",onClick:s[0]||(s[0]=d=>D())},[r(g)?(n(),A(l,{key:0,class:"p-2 w-8 h-8"})):(n(),A(o,{key:1,class:"p-2 w-8 h-8"}))],8,Y)):Q("",!0)],6)}}}),ii="/slides/24-10-22-metaprogram/assets/metaprimitives-B9H8EXvV.png",ni={__name:"slides.md__slidev_7",setup(B){const{$slidev:t,$nav:k,$clicksContext:a,$clicks:p,$page:g,$renderContext:y,$frontmatter:D}=S();return a.setup(),(e,s)=>{const l=Z;return n(),A(J,T(W(r(G)(r(D),6))),{default:_(()=>[s[1]||(s[1]=i("h1",null,"More on Metaprimitives",-1)),s[2]||(s[2]=i("h2",null,"Some Other Examples",-1)),s[3]||(s[3]=i("img",{src:ii,alt:"mpl",style:{width:"50%"}},null,-1)),s[4]||(s[4]=i("h2",null,"Comparison with MetaRules",-1)),F(l,K({},{ranges:[]}),{default:_(()=>s[0]||(s[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-prolog"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"metarule"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"P"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"Q"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"P"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"A"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"B"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],[["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"Q"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"A"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"B"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"]]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},".")]),b(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"metarule"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"P"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"Q"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"R"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"P"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"A"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"B"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],[["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"Q"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"A"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"B"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"R"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"A"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"B"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"]]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},".")]),b(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"metarule"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"P"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"Q"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"R"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"P"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"A"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"B"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],[["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"Q"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"A"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"C"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"],["),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"R"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"C"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"B"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"]]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},".")])])],-1)])),_:1},16)]),_:1},16)}}};export{ni as default};
